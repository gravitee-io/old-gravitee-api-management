{
	"info": {
		"_postman_id": "c2c83ea2-6d75-407e-912c-f4fdbee683d2",
		"name": "Portal : Business Error",
		"description": "This collections contains requests to test business errors (no 401) on the Portal API",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "apis",
			"item": [
				{
					"name": "400",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Enable rating service",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "6bef2858-c89c-4e4e-88d3-4ad83e48681c",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"portal\": {\n\t\t\"rating\": {\n\t\t\t\"enabled\": true\n\t\t}\n\t}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/portal",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"portal"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "0008e186-b147-4d26-9c1b-1370f8ffbfdf",
												"exec": [
													"pm.test(\"Status code is 201\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"pm.collectionVariables.set(\"created_api\", JSON.stringify(jsonData));",
													"pm.collectionVariables.set(\"created_api_id\", jsonData.id);",
													"pm.collectionVariables.set(\"created_api_owner_id\", jsonData.owner.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"404API\",\n\t\"version\":\"1.0\",\n\t\"description\":\"API for 'Page not found' and API not visible\",\n\t\"contextPath\":\"/404api\",\n\t\"endpoint\":\"http://localhost\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish created API",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "6bb4fea9-ffa5-42cb-af64-09c8fc7be14a",
												"exec": [
													"var createdApi_toPublish = JSON.parse(pm.collectionVariables.get(\"created_api\"));",
													"createdApi_toPublish.lifecycle_state='published';",
													"delete createdApi_toPublish.id;",
													"delete createdApi_toPublish.state;",
													"delete createdApi_toPublish.created_at;",
													"delete createdApi_toPublish.updated_at;",
													"delete createdApi_toPublish.owner;",
													"delete createdApi_toPublish.context_path;",
													"pm.collectionVariables.set(\"createdApi_toPublish\", JSON.stringify(createdApi_toPublish));",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "37557a7a-e2a5-4fc3-9bde-3005c7004666",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{createdApi_toPublish}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "30c44211-2b34-4960-8633-326b84fc15cc",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "390476fa-0ba9-44a0-928e-1699f88f0fe5",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Input must not be null.",
							"item": [
								{
									"name": "POST /apis/:apiId/rating - Invalid input",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "2896c795-b3f7-42d3-853a-edfc40a035c5",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/apis/:apiId/ratings",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"ratings"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /apis/_search",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "97a56658-832f-4ef9-9552-03340e7c5fde",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/apis/_search",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"apis",
												"_search"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "04effcde-3101-4891-af3a-7007227bec46",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "c7afafdd-0e0d-4c73-ac72-a35a6049ed27",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"pm.test(\"Input must not be null.\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Input must not be null.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create a rating",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "959c24eb-a9d4-46be-ae78-7814107f8276",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"pm.collectionVariables.set(\"created_rating_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"title\":\"400 title\",\n\t\"comment\":\"400 comment\",\n\t\"rate\": 2\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId/ratings",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"ratings"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Rating already exists",
							"item": [
								{
									"name": "POST /apis/:apiId/rating - Invalid input",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "854c13ae-47dc-4bbd-8d9a-a95d5e97b477",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"pm.test(\"Rating already exists\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Rating already exists for api [\"+pm.collectionVariables.get(\"created_api_id\")+\"] and user [\"+pm.collectionVariables.get(\"created_api_owner_id\")+\"].\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"title\":\"400 new title\",\n\t\"comment\":\"400 new comment\",\n\t\"value\": 3\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/apis/:apiId/ratings",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"ratings"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "7fe438e6-08c8-4a77-afb5-66537074b57d",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "9305b86c-e4fb-4f36-aad3-410a512284c4",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Delete created Rating",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4ed95ee4-dc0f-440c-921e-ec4298800fc4",
												"exec": [
													"pm.test(\"Status code is 204\", function () {",
													"    pm.response.to.have.status(204);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId/ratings/:ratingId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"ratings",
												":ratingId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												},
												{
													"key": "ratingId",
													"value": "{{created_rating_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete created API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "11c42dae-3a4e-4e3e-8ac6-ee0fa86427e8",
												"exec": [
													"pm.test(\"Status code is 204\", function () {",
													"    pm.response.to.have.status(204);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "744e0e9a-3c10-4a5f-8aeb-2280d910a946",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "9f13932b-2d65-4729-8120-66c704efa41b",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "d093ab06-bc41-4acb-a524-65a237b2c6e4",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "70aa7a4b-cb3e-49bf-8990-1e0fafecca02",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "403",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Disable rating service",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "85ad8d60-0993-4216-8624-0b803e8ff781",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"portal\": {\n\t\t\"rating\": {\n\t\t\t\"enabled\": false\n\t\t}\n\t}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/portal",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"portal"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7d15cbab-1579-4d40-82c1-b1806af50637",
												"exec": [
													"pm.test(\"Status code is 201\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"pm.collectionVariables.set(\"created_api\", JSON.stringify(jsonData));",
													"pm.collectionVariables.set(\"created_api_id\", jsonData.id);",
													"pm.collectionVariables.set(\"created_api_owner_id\", jsonData.owner.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"404API\",\n\t\"version\":\"1.0\",\n\t\"description\":\"API for 'Page not found' and API not visible\",\n\t\"contextPath\":\"/404api\",\n\t\"endpoint\":\"http://localhost\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish created API",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "1fe87218-62a0-458f-aa35-33ca2c46c22c",
												"exec": [
													"var createdApi_toPublish = JSON.parse(pm.collectionVariables.get(\"created_api\"));",
													"createdApi_toPublish.lifecycle_state='published';",
													"delete createdApi_toPublish.id;",
													"delete createdApi_toPublish.state;",
													"delete createdApi_toPublish.created_at;",
													"delete createdApi_toPublish.updated_at;",
													"delete createdApi_toPublish.owner;",
													"delete createdApi_toPublish.context_path;",
													"pm.collectionVariables.set(\"createdApi_toPublish\", JSON.stringify(createdApi_toPublish));",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "f936cd92-30f9-4f5a-aeb2-d7cb5df38c30",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{createdApi_toPublish}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "4177e92e-00ec-47cb-8782-83ac2af66edd",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "9aead4d8-ce14-4637-8f3e-b65e63260cdc",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Test cases --",
							"item": [
								{
									"name": "POST /apis/:apiId/rating - No permission (User = application1)",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "74812606-ad38-4328-aeeb-ecb5ed624213",
												"exec": [
													"pm.test(\"Unsufficient rights\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"You do not have sufficient rights to access this resource\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "application1",
													"type": "string"
												},
												{
													"key": "username",
													"value": "application1",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"title\":\"400 new title\",\n\t\"comment\":\"400 new comment\",\n\t\"value\": 3\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/apis/:apiId/ratings",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"ratings"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "10ca7b37-9509-4b3a-bb9d-48e0a35aa3f1",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "bd988e3a-1e4a-4d41-abea-2f0306c18515",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 403\", function () {",
											"    pm.response.to.have.status(403);",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Delete created API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7ade26ee-14b8-45cd-8e79-65ab168a4563",
												"exec": [
													"pm.test(\"Status code is 204\", function () {",
													"    pm.response.to.have.status(204);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "800a4ad6-513a-4ecc-9304-c8e599e6d49f",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "41aa0302-884e-42d4-b046-683f5af86040",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "404",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Enable rating service",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "1f8e5117-4a22-4a45-a191-8f1bf889ec3a",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"portal\": {\n\t\t\"rating\": {\n\t\t\t\"enabled\": true\n\t\t}\n\t}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/portal",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"portal"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "334e7602-0e5d-4d2a-bff6-d4763f159bbb",
												"exec": [
													"pm.test(\"Status code is 201\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"pm.collectionVariables.set(\"created_api\", JSON.stringify(jsonData));",
													"pm.collectionVariables.set(\"created_api_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"404API\",\n\t\"version\":\"1.0\",\n\t\"description\":\"API for 'Page not found' and API not visible\",\n\t\"contextPath\":\"/404api\",\n\t\"endpoint\":\"http://localhost\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish created API",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "b1c77fd3-5a9b-4215-b2f8-f6f35b775d0e",
												"exec": [
													"var createdApi_toPublish = JSON.parse(pm.collectionVariables.get(\"created_api\"));",
													"createdApi_toPublish.lifecycle_state='published';",
													"delete createdApi_toPublish.id;",
													"delete createdApi_toPublish.state;",
													"delete createdApi_toPublish.created_at;",
													"delete createdApi_toPublish.updated_at;",
													"delete createdApi_toPublish.owner;",
													"delete createdApi_toPublish.context_path;",
													"pm.collectionVariables.set(\"createdApi_toPublish\", JSON.stringify(createdApi_toPublish));",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "8aeb9058-fc5c-4252-aba6-6df755ed70d9",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{createdApi_toPublish}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "bdd850d0-6f02-481d-9a45-31009a12cf0a",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "609130ee-a98e-4166-b8f3-5ad1dcac0e35",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "API not found",
							"item": [
								{
									"name": "GET /apis/:apiId - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "1fc240ab-d5ee-4b2c-9455-6c95433bbd58",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/metrics - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c152248f-6b9e-4adc-8bf2-3d12ad8dc3c7",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/apis/:apiId/metrics",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"metrics"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/pages - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "54577011-89b0-45c8-9d6a-19e4f97b86a9",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/apis/:apiId/pages",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"pages"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/pages/:pageId - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "09362c9f-be00-45c0-a75d-755a3807203e",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/apis/:apiId/pages/:pageId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"pages",
												":pageId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												},
												{
													"key": "pageId",
													"value": "PAGE"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/pages/:pageId/content - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "1621302a-c847-4b83-b614-ca34204ad0d0",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/apis/:apiId/pages/:pageId/content",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"pages",
												":pageId",
												"content"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												},
												{
													"key": "pageId",
													"value": "PAGE"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/picture - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "3503674d-12af-4504-a4a5-2787ae74e0fd",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/apis/:apiId/picture",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"picture"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/plans - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "9a9e7c16-6b56-4d02-8e08-e98aba3d20c3",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/apis/:apiId/plans",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"plans"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/ratings - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5a105088-fa48-4a5b-8318-e20d19b6ee30",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/apis/:apiId/ratings",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"ratings"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /apis/:apiId/rating - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "fb2aebd6-0d3a-4be2-9ff2-ec990ed467c6",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"title\":\"404 title\",\n\t\"comment\":\"404 comment\",\n\t\"value\": 4\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/apis/:apiId/ratings",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"ratings"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/subscribers - API not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "3f535010-9b27-4007-bc2c-ed17931770d4",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/apis/:apiId/subscribers",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"subscribers"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "API"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "dab0c63a-f5d0-48b9-af7e-4a8eb165bbef",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "6ed5b0f3-2387-4eb9-9d35-3f649fecaf30",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"API not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Api [API] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Page not found",
							"item": [
								{
									"name": "GET /apis/:apiId/pages/:pageId - Page not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "45c72405-99e7-4d94-b642-b8b42bd1200e",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "c5323b55-9218-47e2-83a5-2aeff813f3b2",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/apis/:apiId/pages/:pageId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"pages",
												":pageId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												},
												{
													"key": "pageId",
													"value": "PAGE"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/pages/:pageId/content - Page not found Copy",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "2c2da011-145e-4598-b363-13704e59a34d",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "a42bfe43-9159-41e9-9b67-58856c8b06ef",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/apis/:apiId/pages/:pageId/content",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"pages",
												":pageId",
												"content"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												},
												{
													"key": "pageId",
													"value": "PAGE"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "9c85a570-276e-4bfa-9273-adeb45797dda",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "832fb9ab-291b-4188-90b1-7688ab0d94ca",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Page not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Page [PAGE] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "API not visible for current user - test with a user != admin",
							"item": [
								{
									"name": "GET /apis/:apiId - API not visible by user",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "6c8c28cb-0415-49fb-b3f7-24c51be4cbe4",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/pages - API not visible by user",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "f10a2f6f-d24e-4e90-8296-917f2b4acfb6",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/apis/:apiId/pages",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"pages"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/pages/:pageId - API not visible by user",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4fe4d20f-7a01-4a8b-8cf1-1963293ca833",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/apis/:apiId/pages/:pageId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"pages",
												":pageId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												},
												{
													"key": "pageId",
													"value": "PAGE"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/picture - API not visible by user",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "df37fbd1-964d-4388-8faf-10ead44e9a25",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/apis/:apiId/picture",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"picture"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/plans - API not visible by user",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "eb150149-4d7c-4993-858b-c26859f06233",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/apis/:apiId/plans",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"plans"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /apis/:apiId/ratings - API not visible by user",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e498bbf4-0a1c-4ce3-afa7-100e7736a9d6",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/apis/:apiId/ratings",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"ratings"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "api1",
										"type": "string"
									},
									{
										"key": "username",
										"value": "api1",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "9cbd8c20-d41f-42a7-849d-991a44e28239",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "a88036ad-383f-4082-a1ee-bc582eeb324a",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"API not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Api [\"+pm.collectionVariables.get(\"created_api_id\")+\"] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Delete created API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "cad2f343-9a2e-4b0b-8770-176b1db1fff3",
												"exec": [
													"pm.test(\"Status code is 204\", function () {",
													"    pm.response.to.have.status(204);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "ca8a6fd1-a1b8-4430-9f11-a8f10baf9206",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "55c48bad-a2ff-4971-ba25-d969a3dcd94d",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "73b15ae1-1368-4004-adfa-a42f99f56067",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "0a658d1f-6b07-41b8-81da-ae1410a9923c",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "503",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Disable rating service",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "6b972f78-3bd7-44ce-a660-0976c4a0d63f",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"portal\": {\n\t\t\"rating\": {\n\t\t\t\"enabled\": false\n\t\t}\n\t}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/portal",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"portal"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "cb662780-bcb5-4fb5-a325-2a7f5268a70b",
												"exec": [
													"pm.test(\"Status code is 201\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"pm.collectionVariables.set(\"created_api\", JSON.stringify(jsonData));",
													"pm.collectionVariables.set(\"created_api_id\", jsonData.id);",
													"pm.collectionVariables.set(\"created_api_owner_id\", jsonData.owner.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"404API\",\n\t\"version\":\"1.0\",\n\t\"description\":\"API for 'Page not found' and API not visible\",\n\t\"contextPath\":\"/404api\",\n\t\"endpoint\":\"http://localhost\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish created API",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "25845a46-6f38-4efd-be5e-c66f26ca1d4e",
												"exec": [
													"var createdApi_toPublish = JSON.parse(pm.collectionVariables.get(\"created_api\"));",
													"createdApi_toPublish.lifecycle_state='published';",
													"delete createdApi_toPublish.id;",
													"delete createdApi_toPublish.state;",
													"delete createdApi_toPublish.created_at;",
													"delete createdApi_toPublish.updated_at;",
													"delete createdApi_toPublish.owner;",
													"delete createdApi_toPublish.context_path;",
													"pm.collectionVariables.set(\"createdApi_toPublish\", JSON.stringify(createdApi_toPublish));",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "c28a98cb-3cb0-4145-990b-d92fadc45d05",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{createdApi_toPublish}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "c7bb964c-1a00-4bbb-8839-12fff13a0a63",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "49031462-9f7a-4c5a-9827-b996ad1054aa",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Test cases --",
							"item": [
								{
									"name": "POST /apis/:apiId/rating - Rating service is disabled",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "715ade26-7a35-44c8-879f-51f46c508c94",
												"exec": [
													"pm.test(\"Rating service disabled\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"API rating service is unavailable.\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"title\":\"400 new title\",\n\t\"comment\":\"400 new comment\",\n\t\"value\": 3\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/apis/:apiId/ratings",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"ratings"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "0b0c4412-e657-42f1-8d84-e5f63234be7d",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "bb4a19af-c951-47ed-9138-635486546905",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 503\", function () {",
											"    pm.response.to.have.status(503);",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Delete created API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "1c9ea7d2-8033-47b5-bbe1-94f08732b831",
												"exec": [
													"pm.test(\"Status code is 204\", function () {",
													"    pm.response.to.have.status(204);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "dd97a208-e920-45a1-bb4b-60e89955cb25",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "b4b11caf-8243-44e4-b182-08bd845c8ad9",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "39641ff9-bf9a-4969-8f65-cf19b8472266",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "004add34-d074-4cb6-97cc-2166e2b37054",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "applications",
			"item": [
				{
					"name": "400",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create Application",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "47d90c41-e196-42b7-ae3c-223529556606",
												"exec": [
													"pm.test(\"Status code is 201\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"pm.collectionVariables.set(\"created_application_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"404Application\",\n\t\"description\":\"Application for 'Notification not found', 'Member not found' and 'Log not found'\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/applications",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"applications"
											]
										}
									},
									"response": []
								},
								{
									"name": "Enable client registration service",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "39f4f580-cfb9-41e7-9baa-847e108c7af4",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"application\": {\n\t\t\"registration\": {\n\t\t\t\"enabled\": true\n\t\t}\n\t}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/portal",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"portal"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create a notification config",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "485edc85-7b96-4632-9df4-cb347a7386c9",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"pm.collectionVariables.set(\"created_generic_config\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"400GenericConfig\",\n\t\"config_type\":\"GENERIC\",\n\t\"referenceId\":\"DEFAULT\",\n\t\"notifier\":\"default-email\",\n\t\"hooks\":[],\n\t\"referenceType\":\"PORTAL\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/configuration/notificationsettings",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"configuration",
												"notificationsettings"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "bcef6a34-9b1e-44f2-bf01-5d4fdda82e42",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "af7ad743-7da6-49f0-99b0-d388fcdbd066",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Invalid input",
							"item": [
								{
									"name": "POST /applications - Input must not be null.",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "31ea31f7-eda3-4f82-ba28-62bd8cd70060",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications"
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId - Input must not be null.",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "1b2bec91-82ee-498f-b6de-409c3d4ae583",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId/notifications - Input must not be null.",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "a95ccb2d-8755-42fc-9721-de2ef433f5e9",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/notifications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"notifications"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/members - Input must not be null.",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "aca96317-ac0a-4d1e-b737-41d0c5762a34",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/members",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"members"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/members/_transfer_ownership - Input must not be null.",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "64e40b23-a215-47a5-80e5-8dbbc9edd022",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/members/_transfer_ownership",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"members",
												"_transfer_ownership"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId/members/:memberId - Input must not be null.",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "0d243e3a-7e82-4130-bbdf-9e8a70b142b2",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/members/:memberId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"members",
												":memberId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "memberId",
													"value": "MEMBER"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "24e0b6f8-135e-440b-9cd3-4098696597fb",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "3b8dfadd-0e06-4574-a8a7-293bc2a4a69e",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"pm.test(\"Input must not be null.\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Input must not be null.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "'applicationId' is not the same that the application in payload",
							"item": [
								{
									"name": "PUT /applications/:applicationId - 'applicationId' is not the same that the application in payload",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b39da3e9-4b6f-43bc-b005-3867fb5fda6b",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"id\":\"APPLICATION\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "4b9192a3-f17f-4c98-9fd8-d949da9b4e65",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "fd849587-84f3-492d-83fe-a182ba229767",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"pm.test(\"'applicationId' is not the same that the application in payload\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"'applicationId' is not the same that the application in payload\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Client secret for application [404Application] can not be renew.",
							"item": [
								{
									"name": "POST /applications/:applicationId/_renew_secret - Invalid input",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "ea0d0775-db54-4a77-a676-8ddfe3231159",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/_renew_secret",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"_renew_secret"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "e71a9175-5f27-4c9d-b75c-bb6afcb24a3d",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "c579146d-6353-47d1-8c47-188ee9af7a77",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"pm.test(\"Client secret for application [404Application] can not be renew.\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Client secret for application [404Application] can not be renew.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "log query param validation",
							"item": [
								{
									"name": "POST /applications/:applicationId/logs/_export - From = -1",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "9018ecaf-6d5b-4568-8478-50fe4efa2bdc",
												"exec": [
													"pm.test(\"Query parameter 'from' is not valid\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Query parameter 'from' is not valid\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/logs/_export?from=-1",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"logs",
												"_export"
											],
											"query": [
												{
													"key": "from",
													"value": "-1"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/logs/_export - To = -1",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b348fcc7-86d2-4894-a6df-648cf534a770",
												"exec": [
													"pm.test(\"Query parameter 'to' is not valid\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Query parameter 'to' is not valid\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/logs/_export?to=-1",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"logs",
												"_export"
											],
											"query": [
												{
													"key": "to",
													"value": "-1"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/logs/_export - from >= to",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e9fb2133-fbd3-404f-9267-98795718772e",
												"exec": [
													"pm.test(\"'from' query parameter value must not be greater than 'to'\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"'from' query parameter value must not be greater than 'to'\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/logs/_export?from=0&to=0",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"logs",
												"_export"
											],
											"query": [
												{
													"key": "from",
													"value": "0"
												},
												{
													"key": "to",
													"value": "0"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/logs/_export - order not valid",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "87bc5287-bc40-4d8d-9a59-f568434d0269",
												"exec": [
													"pm.test(\"'order' query parameter value must be 'ASC' or 'DESC'\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"'order' query parameter value must be 'ASC' or 'DESC'\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/logs/_export?from=0&to=1&order=ORDER",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"logs",
												"_export"
											],
											"query": [
												{
													"key": "from",
													"value": "0"
												},
												{
													"key": "to",
													"value": "1"
												},
												{
													"key": "order",
													"value": "ORDER"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "0b35aee1-bc3e-4c32-a7ab-456a806f74a3",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "badd0801-1af3-4bcf-9cd9-7291619bfb99",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "analytics query param validation",
							"item": [
								{
									"name": "GET /applications/:applicationId/analytics - no type",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "3f5a506b-ee39-4d4a-a00a-e08bd31c77ed",
												"exec": [
													"pm.test(\"Query parameter 'type' must be present and one of : GROUP_BY, DATE_HISTO, COUNT\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Query parameter 'type' must be present and one of : GROUP_BY, DATE_HISTO, COUNT\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/analytics",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"analytics"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/analytics   - From = -1",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "ef2dc17b-fdde-4272-b389-6ae31b34f375",
												"exec": [
													"pm.test(\"Query parameter 'from' is not valid\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Query parameter 'from' is not valid\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/analytics?type=GROUP_BY&from=-1",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"analytics"
											],
											"query": [
												{
													"key": "type",
													"value": "GROUP_BY"
												},
												{
													"key": "from",
													"value": "-1"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/analytics - To = -1",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "f265ee38-35c5-457d-a930-3645011c65fa",
												"exec": [
													"pm.test(\"Query parameter 'to' is not valid\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Query parameter 'to' is not valid\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/analytics?type=GROUP_BY&to=-1",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"analytics"
											],
											"query": [
												{
													"key": "type",
													"value": "GROUP_BY"
												},
												{
													"key": "to",
													"value": "-1"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GETT /applications/:applicationId/analytics - from >= to",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "6a374342-c4c7-4eb0-90f9-545a1da043b0",
												"exec": [
													"pm.test(\"'from' query parameter value must not be greater than 'to'\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"'from' query parameter value must not be greater than 'to'\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/analytics?type=GROUP_BY&from=0&to=0",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"analytics"
											],
											"query": [
												{
													"key": "type",
													"value": "GROUP_BY"
												},
												{
													"key": "from",
													"value": "0"
												},
												{
													"key": "to",
													"value": "0"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/analytics - Interval = -1",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e568438b-8179-46cc-9a7b-0a7ec72da0b6",
												"exec": [
													"pm.test(\"Query parameter 'interval' is not valid\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Query parameter 'interval' is not valid\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/analytics?type=GROUP_BY&from=0&to=1&interval=-1",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"analytics"
											],
											"query": [
												{
													"key": "type",
													"value": "GROUP_BY"
												},
												{
													"key": "from",
													"value": "0"
												},
												{
													"key": "to",
													"value": "1"
												},
												{
													"key": "interval",
													"value": "-1"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/analytics - Interval invalid",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "32097546-951a-45fe-8268-97f5e96e0cc7",
												"exec": [
													"pm.test(\"Query parameter 'interval' is not valid. 'interval' must be >= 1000 and <= 1000000000\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Query parameter 'interval' is not valid. 'interval' must be >= 1000 and <= 1000000000\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/analytics?type=DATE_HISTO&from=0&to=1&interval=100&",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"analytics"
											],
											"query": [
												{
													"key": "type",
													"value": "DATE_HISTO"
												},
												{
													"key": "from",
													"value": "0"
												},
												{
													"key": "to",
													"value": "1"
												},
												{
													"key": "interval",
													"value": "100"
												},
												{
													"key": null,
													"value": null
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/analytics - field is missing",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "bee9d231-060b-46fe-a027-301bca23a073",
												"exec": [
													"pm.test(\"'field' query parameter is required for 'group_by' request\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"'field' query parameter is required for 'group_by' request\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/analytics?type=GROUP_BY&from=0&to=1&interval=1000",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"analytics"
											],
											"query": [
												{
													"key": "type",
													"value": "GROUP_BY"
												},
												{
													"key": "from",
													"value": "0"
												},
												{
													"key": "to",
													"value": "1"
												},
												{
													"key": "interval",
													"value": "1000"
												}
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "1575b57a-6b26-4568-8fbc-163cc015930b",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "6204b742-bdb9-4364-8c2f-a34f9ef7e660",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 400\", function () {",
											"    pm.response.to.have.status(400);",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Delete notification settings",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "09ec33d6-dbb7-4bb1-8149-a9ff1e05611a",
												"exec": [
													"pm.test(\"Status code is 204\", function () {",
													"    pm.response.to.have.status(204);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/configuration/notificationsettings/:notificationId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"configuration",
												"notificationsettings",
												":notificationId"
											],
											"variable": [
												{
													"key": "notificationId",
													"value": "{{created_generic_config}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete created application",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8be6aa46-a8af-4e00-a359-746a6c7b2955",
												"exec": [
													"pm.test(\"Status code is 204\", function () {",
													"    pm.response.to.have.status(204);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "dc20df63-86a6-4c57-b9fa-40cfa1fd2346",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "0e0a1e1d-c723-48fe-936d-071767cbf471",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "b9cb22fd-d2ed-4686-b2d9-d8cb5f60cd92",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "1baafb94-16f2-4c23-aeec-63d7aa17a04b",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "403",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create Application",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "0d819423-4c26-420d-af35-009912725755",
												"exec": [
													"pm.test(\"Status code is 201\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"pm.collectionVariables.set(\"created_application_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"403Application\",\n\t\"description\":\"Application for Forbidden Access\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/applications",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"applications"
											]
										}
									},
									"response": []
								},
								{
									"name": "GET USER Environment Role",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "5e850907-4cf9-4db0-8b0c-94db9fafa846",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"jsonData.scope = \"ENVIRONMENT\";",
													"pm.collectionVariables.set(\"USER_ENV_ROLE\", jsonData);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/configuration/rolescopes/ENVIRONMENT/roles/USER",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"configuration",
												"rolescopes",
												"ENVIRONMENT",
												"roles",
												"USER"
											]
										}
									},
									"response": []
								},
								{
									"name": "Remove Application permissions from USER Role",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "eb14a1e1-6f2a-48d5-bffc-9f1abde2519d",
												"exec": [
													"var userRole = pm.collectionVariables.get(\"USER_ENV_ROLE\");",
													"userRole.permissions.APPLICATION = [];",
													"pm.collectionVariables.set(\"UPDATED_USER_ENV_ROLE\", JSON.stringify(userRole));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "fe0ee07a-69e0-4d71-9c90-e660857ba1e6",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{UPDATED_USER_ENV_ROLE}}\n",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/configuration/rolescopes/ENVIRONMENT/roles/USER",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"configuration",
												"rolescopes",
												"ENVIRONMENT",
												"roles",
												"USER"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "1d96ffd9-1a4b-40cb-b3b8-be5b904253aa",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "ebdb5b2c-2036-40b2-9a2e-ecdcc06d1295",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Test cases --",
							"item": [
								{
									"name": "GET /applications",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications"
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications",
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications"
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "DELETE /applications/:applicationId",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/picture",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/picture",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"picture"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/notifications",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/notifications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"notifications"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId/notifications",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "22cf4cee-29e9-41b6-80d7-3f87da478a03",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"hooks\":\"[NEW_SUBSCRIPTION]\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/notifications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"notifications"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/members",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/members",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"members"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/members/:memberId",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/members/:memberId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"members",
												":memberId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "memberId",
													"value": "MEMBER"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId/members/:memberId",
									"request": {
										"method": "PUT",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/members/:memberId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"members",
												":memberId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "memberId",
													"value": "MEMBER"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "DELETE /applications/:applicationId/members/:memberId",
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/members/:memberId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"members",
												":memberId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "memberId",
													"value": "MEMBER"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/members",
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/members",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"members"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/members/_transfer_ownership",
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/members/_transfer_ownership",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"members",
												"_transfer_ownership"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/analytics",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/analytics",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"analytics"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/logs",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/logs",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"logs"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/logs/:logId",
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/logs/:logId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"logs",
												":logId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "logId",
													"value": "LOG"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/logs/_export",
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/logs/_export",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"logs",
												"_export"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/_renew_secret",
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/_renew_secret",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"_renew_secret"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "password",
										"type": "string"
									},
									{
										"key": "username",
										"value": "user",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "d16d1043-36ce-4ee6-9ada-077e98a3a33e",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "192e501d-b00f-4a28-8626-a03a64fc7df3",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 403\", function () {",
											"    pm.response.to.have.status(403);",
											"});",
											"",
											"pm.test(\"You do not have sufficient rights to access this resource\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"You do not have sufficient rights to access this resource\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Reset permissions from USER Role",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "e03936ee-eab2-4653-a735-3f85555a2abd",
												"exec": [
													"var userRole = pm.collectionVariables.get(\"USER_ENV_ROLE\");",
													"userRole.permissions.APPLICATION = [ \"C\", \"R\", \"U\", \"D\"];",
													"pm.collectionVariables.set(\"USER_ENV_ROLE\", JSON.stringify(userRole));"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "d191e661-05e4-4498-bfe5-24d8eda9f0c3",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{USER_ENV_ROLE}}\n",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/configuration/rolescopes/ENVIRONMENT/roles/USER",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"configuration",
												"rolescopes",
												"ENVIRONMENT",
												"roles",
												"USER"
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete created application",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4ed04b77-8d60-418e-baa4-c9d191038282",
												"exec": [
													"pm.test(\"Status code is 204\", function () {",
													"    pm.response.to.have.status(204);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "1d1a87a3-9c7f-4d04-82fb-50a6ee797029",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "347121ad-c646-4c7e-bcaa-718d73dd83fb",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "404",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create Application",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "df71aded-cbe5-4a86-a591-09c6bb348f3a",
												"exec": [
													"pm.test(\"Status code is 201\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"pm.collectionVariables.set(\"created_application\", JSON.stringify(jsonData));",
													"pm.collectionVariables.set(\"created_application_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"404Application\",\n\t\"description\":\"Application for 'Notification not found', 'Member not found' and 'Log not found'\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/applications",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"applications"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "95f1617d-96aa-4a4f-a3f1-c7be4eff0e65",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "94c0caf9-c18b-44af-8612-9b3ea260c706",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Application not found",
							"item": [
								{
									"name": "GET /applications/:applicationId - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "64cc8e0b-1e52-4691-8f42-ac296ef3ab6a",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "6e881928-1755-4e15-b4fe-df2a80f02c97",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"id\":\"APPLICATION\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "DELETE /applications/:applicationId - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7c40f840-77d4-4c50-a2dd-a47caa873b8c",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/picture - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e5695224-72f1-4ccc-b61f-7f1cdf851492",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/picture",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"picture"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/notifications - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "502f2c10-5e9f-42e8-ab3e-485655e5298c",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/notifications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"notifications"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId/notifications - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7d016105-17b3-414f-a194-528ddbd5f248",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"hooks\": []\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/notifications",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"notifications"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/members - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "fbdc884e-df37-4433-b666-42318e8a381d",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/members",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"members"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/members - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8536e054-cd37-4d0a-9346-fa4067eb6f16",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/members",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"members"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/members/_transfer_ownership - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "563e9fd7-b72c-40ae-b714-8c733c6b1e10",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/members/_transfer_ownership",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"members",
												"_transfer_ownership"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/analytics - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "bf6b87c9-1c93-4333-89c9-513906cf2384",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/analytics",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"analytics"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /applications/:applicationId/logs - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "3074cf87-4fde-4bb9-97b1-466a59d0d865",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/logs",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"logs"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/logs/_export - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "9ac8cc9c-3e89-49f6-b430-93f18e820af3",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/logs/_export",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"logs",
												"_export"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /applications/:applicationId/_renew_secret - Application not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "be894b63-0628-4e0b-98c0-0d7c3534a62c",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/_renew_secret",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"_renew_secret"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "APPLICATION"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "139c1ec4-24b8-4ca6-b4b3-78975e539ed2",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "609cdda0-e12e-4858-98ef-859ab2f619fe",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Application not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Application [APPLICATION] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Member not found",
							"item": [
								{
									"name": "GET /applications/:applicationId/members/:memberId - Member not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "be0153fc-3f2c-4e1d-b223-608313d8600d",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/members/:memberId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"members",
												":memberId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "memberId",
													"value": "MEMBER"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "PUT /applications/:applicationId/members/:memberId - Member not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "2b07f224-7a5c-4ab8-87c3-4b35d60c41a8",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/members/:memberId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"members",
												":memberId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "memberId",
													"value": "MEMBER"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "DELETE /applications/:applicationId/members/:memberId - Member not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "f61c4a19-63ce-4f0d-8a09-d5aa80adc885",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/members/:memberId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"members",
												":memberId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "memberId",
													"value": "MEMBER"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "0778f73d-e8ef-4259-ad47-7b2e7e48b1e3",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "a2c63b3a-a7bd-4aa4-bfd5-1205e2b7b3d3",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Member not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"User [MEMBER] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Log not found",
							"item": [
								{
									"name": "GET /applications/:applicationId/logs/:logId - Log not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c3b89bce-eb7c-4e0c-a95a-f47b292c49e6",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/applications/:applicationId/logs/:logId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"applications",
												":applicationId",
												"logs",
												":logId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												},
												{
													"key": "logId",
													"value": "LOG"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "96d11113-42e6-4ba0-b31b-67ea694bdbcc",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "e9f88cb4-d0c4-4030-a738-249f05077d27",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Log not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Log [LOG] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Delete created application",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "fe5225e4-3302-4536-8b36-cfce3bb90419",
												"exec": [
													"pm.test(\"Status code is 204\", function () {",
													"    pm.response.to.have.status(204);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "7ebaaee4-978c-40cc-8fe9-1dd81db84828",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "ec71f766-94d9-4818-ad1a-7421caef15b0",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "a50329c4-e387-4e95-9d19-f096f9d00b2e",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "afae2691-5998-4525-9589-227334dd7cf0",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "auth",
			"item": [
				{
					"name": "404",
					"item": [
						{
							"name": "Identity provider not found",
							"item": [
								{
									"name": "POST /auth/oauth2/:identity - Identity provider not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "15f99ba2-3ce8-4f0f-a92d-f3deb6b5f5f4",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/auth/oauth2/:identity",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"auth",
												"oauth2",
												":identity"
											],
											"variable": [
												{
													"key": "identity",
													"value": "IDENTITY"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /auth/oauth2/:identity/_exchange  - Identity provider not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "38a1be14-d939-4dd1-b045-de7c1307f7f4",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/auth/oauth2/:identity/_exchange",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"auth",
												"oauth2",
												":identity",
												"_exchange"
											],
											"variable": [
												{
													"key": "identity",
													"value": "IDENTITY"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "5df54388-264d-46e2-9fba-ab000c3c404b",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "24fe7e8e-3842-4d18-862b-40118b8d4e02",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Identity provider not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Identity provider [IDENTITY] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "9cf8878a-2980-4e67-a1a8-592932400ba8",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "2c515ec0-57f6-4aa5-aba0-735032d088a8",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "configuration",
			"item": [
				{
					"name": "404",
					"item": [
						{
							"name": "GET /configuration/identities/:identityProviderId",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "182a8a5d-8a28-41bf-aef3-6cda8c980cea",
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/configuration/identities/:identityProviderId",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"configuration",
										"identities",
										":identityProviderId"
									],
									"variable": [
										{
											"key": "identityProviderId",
											"value": "IDENTITY_PROVIDER"
										}
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "1bcd0320-e2ab-4e8c-b926-8318a5ff7270",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "48452657-bbe7-4f8d-9c42-a26063668916",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 404\", function () {",
									"    pm.response.to.have.status(404);",
									"});",
									"pm.test(\"Identity provider not found\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.errors[0].message).to.eql(\"Identity provider [IDENTITY_PROVIDER] can not be found.\");",
									"});"
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "pages",
			"item": [
				{
					"name": "400",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "66f3a150-759d-46fa-bf56-4ea3943e6ec6",
												"exec": [
													"pm.test(\"Status code is 201\", function() {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"pm.collectionVariables.set(\"created_api_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "prerequest",
											"script": {
												"id": "ffc577a4-fe2f-4467-8364-e064ecf6a19f",
												"exec": [
													"pm.environment.set('currentDate', Date.now());"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "api1",
													"type": "string"
												},
												{
													"key": "username",
													"value": "api1",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"contextPath\": \"/issue357-{{currentDate}}\",\n\t\"description\": \"Issue 357 - {{currentDate}}\",\n\t\"endpoint\": \"http://localhost:8080\",\n\t\"name\": \"Issue 357 - {{currentDate}}\",\n\t\"version\": \"1.0\"\n}"
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "f2c11a5f-1b97-4cd1-b145-26c3edc7b382",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "6f60c5cb-8701-4dd3-94a0-97950b8b63fd",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Create page whithout type",
							"item": [
								{
									"name": "Create page",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "620fbea1-bbbd-49e6-b7b0-efa6df290847",
												"exec": [
													"pm.test(\"Status code is 400\", function() {",
													"    pm.response.to.have.status(400);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "api1",
													"type": "string"
												},
												{
													"key": "username",
													"value": "api1",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json"
											},
											{
												"key": "Authorization",
												"value": "Basic YWRtaW46YWRtaW4="
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\": \"produit-doc\",\n\t\"content\": \"json\",\n\t\"source\": {\n\t\t\"type\": \"http-fetcher\",\n\t\t\"configuration\": {\n\t\t\t\"url\": \"http://128.239.252.127:8080/v2/products/docs\"\n\t\t}\n\t},\n\t\"configuration\": {\n\t\t\"tryItURL\": \"http://128.239.252.127:8080/v2\",\n\t\t\"tryIt\": true\n\t}\n}"
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId/pages",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"pages"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Delete created API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4c473ba1-b380-4434-bda9-5731058de04e",
												"exec": [
													"pm.test(\"Status code is 204\", function () {",
													"    pm.response.to.have.status(204);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "api1",
													"type": "string"
												},
												{
													"key": "username",
													"value": "api1",
													"type": "string"
												}
											]
										},
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "401",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create an unpublished page",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "ea53b1c1-59a3-4a60-b57b-156399912539",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "e880cdbb-3312-4ec7-962e-3b2a18fdbf62",
												"exec": [
													"pm.test(\"Status code is 201\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"pm.collectionVariables.set(\"created_page_id\", jsonData.id);",
													"pm.collectionVariables.set(\"created_page_order\", jsonData.order);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"Unpublished Page\",\n\t\"type\":\"SWAGGER\",\n\t\"published\":false\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/portal/pages",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"portal",
												"pages"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Unauthorized to access an unpublished page",
							"item": [
								{
									"name": "GET /pages/:pageId - Unauthorized",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "3ee40b7a-978d-4f17-b8ed-b93986ca6c19",
												"exec": [
													"pm.test(\"Status code is 401\", function () {",
													"    pm.response.to.have.status(401);",
													"});",
													"",
													"pm.test(\"Must be authenticated\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"You must be authenticated to access this resource\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/pages/:pageId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"pages",
												":pageId"
											],
											"variable": [
												{
													"key": "pageId",
													"value": "{{created_page_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /pages/:pageId/content - Unauthorized",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "6258fdda-6007-43a2-b002-5a0405221b7e",
												"exec": [
													"pm.test(\"Status code is 401\", function () {",
													"    pm.response.to.have.status(401);",
													"});",
													"",
													"pm.test(\"Must be authenticated\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"You must be authenticated to access this resource\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/pages/:pageId/content",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"pages",
												":pageId",
												"content"
											],
											"variable": [
												{
													"key": "pageId",
													"value": "{{created_page_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create an exclusion group for page",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8a174036-f48f-429d-b080-112735d07657",
												"exec": [
													"pm.test(\"Status code is 201\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"pm.collectionVariables.set(\"created_exclusion_group_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"event_rules\": [],\n\t\"name\": \"excludePortalPage\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/configuration/groups",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"configuration",
												"groups"
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish page and add exclusion group",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4d343811-3d18-4acd-8b32-2de1f20134f0",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\": \"Unpublished Page\",\n\t\"excluded_groups\": [\"{{created_exclusion_group_id}}\"],\n\t\"published\": true,\n\t\"order\": {{created_page_order}}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/portal/pages/:pageId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"portal",
												"pages",
												":pageId"
											],
											"variable": [
												{
													"key": "pageId",
													"value": "{{created_page_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Search user reference to add to exclusion group",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "482e62a1-92c4-4c96-9480-8beb5c420f2b",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"pm.collectionVariables.set(\"user_reference\", jsonData[0].reference);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/search/users/?q=application1",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"search",
												"users",
												""
											],
											"query": [
												{
													"key": "q",
													"value": "application1"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Add user in exlusion group",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "405037d1-6b3d-4618-b3e3-1cfe4413fb8c",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "[{\n\t\"reference\":\"{{user_reference}}\",\n\t\"roles\":[\n\t\t{\"scope\":\"API\",\"name\":\"USER\"},\n\t\t{\"scope\":\"APPLICATION\",\"name\":\"USER\"}\n\t]\n}]",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/configuration/groups/:groupId/members",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"configuration",
												"groups",
												":groupId",
												"members"
											],
											"variable": [
												{
													"key": "groupId",
													"value": "{{created_exclusion_group_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "600bfcfe-639e-4b59-8b43-62cce73c4760",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "f7d7fa96-8579-4997-ab8d-1d9d9a251b17",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "User is not allowed to access this page",
							"item": [
								{
									"name": "GET /pages/:pageId - Page not published",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "837097d3-fa44-4bb5-9d08-1c36952e0f12",
												"exec": [
													"pm.test(\"Status code is 401\", function () {",
													"    pm.response.to.have.status(401);",
													"});",
													"",
													"pm.test(\"Must be authenticated\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"You must be authenticated to access this resource\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "application1",
													"type": "string"
												},
												{
													"key": "username",
													"value": "application1",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/pages/:pageId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"pages",
												":pageId"
											],
											"variable": [
												{
													"key": "pageId",
													"value": "{{created_page_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /pages/:pageId/content - Page not published",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "d9011ea3-ef0f-4df5-a1dd-04d8b04cae82",
												"exec": [
													"pm.test(\"Status code is 401\", function () {",
													"    pm.response.to.have.status(401);",
													"});",
													"",
													"pm.test(\"Must be authenticated\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"You must be authenticated to access this resource\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "application1",
													"type": "string"
												},
												{
													"key": "username",
													"value": "application1",
													"type": "string"
												}
											]
										},
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/pages/:pageId/content",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"pages",
												":pageId",
												"content"
											],
											"variable": [
												{
													"key": "pageId",
													"value": "{{created_page_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "afd9fa26-0e80-44b4-bedf-4ffb18993859",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "f3e0ba36-5632-4172-99b9-39562822dd91",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean Up --",
							"item": [
								{
									"name": "Delete exclusion  group",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "6b4d96df-70ed-4db5-bd74-7b24f6936692",
												"exec": [
													"pm.test(\"Status code is 204\", function () {",
													"    pm.response.to.have.status(204);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/configuration/groups/:groupId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"configuration",
												"groups",
												":groupId"
											],
											"variable": [
												{
													"key": "groupId",
													"value": "{{created_exclusion_group_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete page",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "3c8f67b6-397b-4454-9e31-a8ed44fb9659",
												"exec": [
													"pm.test(\"Status code is 204\", function () {",
													"    pm.response.to.have.status(204);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "admin",
													"type": "string"
												},
												{
													"key": "username",
													"value": "admin",
													"type": "string"
												}
											]
										},
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/portal/pages/:pageId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"portal",
												"pages",
												":pageId"
											],
											"variable": [
												{
													"key": "pageId",
													"value": "{{created_page_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "404",
					"item": [
						{
							"name": "Page not found",
							"item": [
								{
									"name": "GET /pages/:pageId - Page not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4a5a58f6-0e08-4c7d-a051-7e628c14a320",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/pages/:pageId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"pages",
												":pageId"
											],
											"variable": [
												{
													"key": "pageId",
													"value": "PAGE"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "bfda6160-5fb2-4eb4-9fc2-9ead2f98a0db",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "f6b49832-9cc6-4939-a1d7-0982cf2c51a1",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Page not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Page [PAGE] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "02e839dd-e70f-499e-9a89-3100ebd6682e",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "a0422b21-7641-4247-89e7-9bdf4271dd6e",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "subscriptions",
			"item": [
				{
					"name": "400",
					"item": [
						{
							"name": "Input must not be null.",
							"item": [
								{
									"name": "POST /subscriptions",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "9527cdc2-318c-41f2-bd78-10aff2f37cb2",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Input must not be null.\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Input must not be null.\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/subscriptions",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"subscriptions"
											]
										},
										"description": "Input must not be null"
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "0473aef0-f7bf-4f54-b17a-1f5ebbe9848c",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "cb1a5be7-9762-44b9-aa8c-477125efb297",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "'keyId' parameter does not correspond to the subscription",
							"item": [
								{
									"name": "-- Prepare --",
									"item": [
										{
											"name": "Create API for subscription",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "2a679288-3415-4977-b65d-bc81245d9627",
														"exec": [
															"pm.test(\"Status code is 201\", function () {",
															"    pm.response.to.have.status(201);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"pm.collectionVariables.set(\"created_api_for_sub\", JSON.stringify(jsonData));",
															"pm.collectionVariables.set(\"created_api_for_sub_id\", jsonData.id);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"name\":\"400API_SUB\",\n\t\"version\":\"1.0\",\n\t\"description\":\"API for 'Subscription' bad request\",\n\t\"contextPath\":\"/400apisub\",\n\t\"endpoint\":\"http://localhost\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/apis",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"apis"
													]
												}
											},
											"response": []
										},
										{
											"name": "Publish created API",
											"event": [
												{
													"listen": "prerequest",
													"script": {
														"id": "ebb6519a-c9c6-4a53-8c3e-0da39f986a7d",
														"exec": [
															"var createdApi_for_sub_toPublish = JSON.parse(pm.collectionVariables.get(\"created_api_for_sub\"));",
															"createdApi_for_sub_toPublish.lifecycle_state='published';",
															"delete createdApi_for_sub_toPublish.id;",
															"delete createdApi_for_sub_toPublish.state;",
															"delete createdApi_for_sub_toPublish.created_at;",
															"delete createdApi_for_sub_toPublish.updated_at;",
															"delete createdApi_for_sub_toPublish.owner;",
															"delete createdApi_for_sub_toPublish.context_path;",
															"pm.collectionVariables.set(\"createdApi_for_sub_toPublish\", JSON.stringify(createdApi_for_sub_toPublish));",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "test",
													"script": {
														"id": "2958a753-39a2-4915-930b-7761a996621e",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "PUT",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{{createdApi_for_sub_toPublish}}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"apis",
														":apiId"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Plan for subscription",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "d3390763-ceb4-4e79-9f7d-c6fdb4e49f62",
														"exec": [
															"pm.test(\"Status code is 201\", function () {",
															"    pm.response.to.have.status(201);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"pm.collectionVariables.set(\"created_plan_for_sub_id\", jsonData.id);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"name\":\"Plan_for_sub\",\n\t\"description\": \"a plan for Subscription bad request\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId/plans",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"apis",
														":apiId",
														"plans"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Publish created Plan",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "f7606194-1da0-4b26-9400-3556659932f0",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"name\":\"Plan_for_sub\",\n\t\"description\": \"a plan for Subscription bad request\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId/plans/:planId/_publish",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"apis",
														":apiId",
														"plans",
														":planId",
														"_publish"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														},
														{
															"key": "planId",
															"value": "{{created_plan_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Create Application for subscription",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "871c04a4-7e55-4aad-8046-e08f983a6290",
														"exec": [
															"pm.test(\"Status code is 201\", function () {",
															"    pm.response.to.have.status(201);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"pm.collectionVariables.set(\"created_application_for_sub_id\", jsonData.id);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"name\":\"400ApplicationSub\",\n\t\"description\":\"Application for 'Subscription bad request'\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/applications",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"applications"
													]
												}
											},
											"response": []
										},
										{
											"name": "Create a first Subscription",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "2eafab0b-da96-4af8-8212-ccebfb4f1f18",
														"exec": [
															"pm.test(\"Status code is 201\", function () {",
															"    pm.response.to.have.status(201);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"pm.collectionVariables.set(\"created_sub_id\", jsonData.id);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId/subscriptions?application={{created_application_for_sub_id}}&plan={{created_plan_for_sub_id}}",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"apis",
														":apiId",
														"subscriptions"
													],
													"query": [
														{
															"key": "application",
															"value": "{{created_application_for_sub_id}}"
														},
														{
															"key": "plan",
															"value": "{{created_plan_for_sub_id}}"
														}
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Get subscription key",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "cc65c34d-d4e5-4c3f-82e7-9f3f2405e74d",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"pm.collectionVariables.set(\"first_sub_api_key\", jsonData[0].key);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "GET",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId/subscriptions/:subscriptionId/keys",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"apis",
														":apiId",
														"subscriptions",
														":subscriptionId",
														"keys"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														},
														{
															"key": "subscriptionId",
															"value": "{{created_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Create a second Plan for subscription",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "e0765f26-1968-47e5-a381-d3fda075ad78",
														"exec": [
															"pm.test(\"Status code is 201\", function () {",
															"    pm.response.to.have.status(201);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"pm.collectionVariables.set(\"created_sec_plan_for_sub_id\", jsonData.id);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"name\":\"Plan_for_sub_2\",\n\t\"description\": \"another plan for Subscription bad request\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId/plans",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"apis",
														":apiId",
														"plans"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Publish second created Plan",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "524a325d-2a4f-4253-9116-57dbe50adf39",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"name\":\"Plan_for_sub2\",\n\t\"description\": \"a plan for Subscription bad request\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId/plans/:planId/_publish",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"apis",
														":apiId",
														"plans",
														":planId",
														"_publish"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														},
														{
															"key": "planId",
															"value": "{{created_sec_plan_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Create a second Subscription",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "e9ee7d5f-365a-4c80-a7c1-189ef7c06ab4",
														"exec": [
															"pm.test(\"Status code is 201\", function () {",
															"    pm.response.to.have.status(201);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"pm.collectionVariables.set(\"created_sec_sub_id\", jsonData.id);"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId/subscriptions?application={{created_application_for_sub_id}}&plan={{created_sec_plan_for_sub_id}}",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"apis",
														":apiId",
														"subscriptions"
													],
													"query": [
														{
															"key": "application",
															"value": "{{created_application_for_sub_id}}"
														},
														{
															"key": "plan",
															"value": "{{created_sec_plan_for_sub_id}}"
														}
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "-- Test cases -- ",
									"item": [
										{
											"name": "POST /subscriptions/{subscriptionId}/keys/{keyId}/_revoke",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "57e463d2-7a79-479e-8181-a9a8f3f3a0ae",
														"exec": [
															"pm.test(\"Status code is 400\", function () {",
															"    pm.response.to.have.status(400);",
															"});",
															"pm.test(\"'keyId' parameter does not correspond to the subscription\", function () {",
															"    pm.expect(pm.response.text()).to.include(\"'keyId' parameter does not correspond to the subscription\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_PORTAL_URL}}/subscriptions/:subscriptionId/keys/:keyId/_revoke",
													"host": [
														"{{GRAVITEEIO_PORTAL_URL}}"
													],
													"path": [
														"subscriptions",
														":subscriptionId",
														"keys",
														":keyId",
														"_revoke"
													],
													"variable": [
														{
															"key": "subscriptionId",
															"value": "{{created_sec_sub_id}}"
														},
														{
															"key": "keyId",
															"value": "{{first_sub_api_key}}"
														}
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "-- Clean up --",
									"item": [
										{
											"name": "Close subscription",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "5b31e873-5cca-4d50-927c-cf72663e181e",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId/subscriptions/:subscriptionId/status?status=CLOSED",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"apis",
														":apiId",
														"subscriptions",
														":subscriptionId",
														"status"
													],
													"query": [
														{
															"key": "status",
															"value": "CLOSED"
														}
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														},
														{
															"key": "subscriptionId",
															"value": "{{created_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Close second subscription",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "04bab463-a8ba-471c-ab98-30c1ac7d3276",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId/subscriptions/:subscriptionId/status?status=CLOSED",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"apis",
														":apiId",
														"subscriptions",
														":subscriptionId",
														"status"
													],
													"query": [
														{
															"key": "status",
															"value": "CLOSED"
														}
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														},
														{
															"key": "subscriptionId",
															"value": "{{created_sec_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Delete created application",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "db3b32ce-e54d-4718-91d1-ff023106f390",
														"exec": [
															"pm.test(\"Status code is 204\", function () {",
															"    pm.response.to.have.status(204);",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "DELETE",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/applications/:applicationId",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"applications",
														":applicationId"
													],
													"variable": [
														{
															"key": "applicationId",
															"value": "{{created_application_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Close created Plan",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "c4a3b51c-e72b-46b6-9d25-6cc070ed0fa9",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId/plans/:planId/_close",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"apis",
														":apiId",
														"plans",
														":planId",
														"_close"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														},
														{
															"key": "planId",
															"value": "{{created_plan_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Close second created Plan",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "c3f962b7-c3ee-47c2-a2e3-4dd41dc8ed01",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId/plans/:planId/_close",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"apis",
														":apiId",
														"plans",
														":planId",
														"_close"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														},
														{
															"key": "planId",
															"value": "{{created_sec_plan_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										},
										{
											"name": "Delete created API",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "26760f61-a17b-4eec-8c62-f79dc37d4ba6",
														"exec": [
															"pm.test(\"Status code is 204\", function () {",
															"    pm.response.to.have.status(204);",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "DELETE",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"apis",
														":apiId"
													],
													"variable": [
														{
															"key": "apiId",
															"value": "{{created_api_for_sub_id}}"
														}
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "403",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create API for subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "8f92b3fa-f8d3-42dd-a895-dd4e31d41e2a",
												"exec": [
													"pm.test(\"Status code is 201\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"pm.collectionVariables.set(\"created_api_for_sub\", JSON.stringify(jsonData));",
													"pm.collectionVariables.set(\"created_api_for_sub_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"403API_SUB\",\n\t\"version\":\"1.0\",\n\t\"description\":\"API for Forbidden access to 'Subscription'\",\n\t\"contextPath\":\"/403apisub\",\n\t\"endpoint\":\"http://localhost\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish created API",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "4bda0f2f-38be-4074-af21-348eee3f43da",
												"exec": [
													"var createdApi_for_sub_toPublish = JSON.parse(pm.collectionVariables.get(\"created_api_for_sub\"));",
													"createdApi_for_sub_toPublish.lifecycle_state='published';",
													"delete createdApi_for_sub_toPublish.id;",
													"delete createdApi_for_sub_toPublish.state;",
													"delete createdApi_for_sub_toPublish.created_at;",
													"delete createdApi_for_sub_toPublish.updated_at;",
													"delete createdApi_for_sub_toPublish.owner;",
													"delete createdApi_for_sub_toPublish.context_path;",
													"pm.collectionVariables.set(\"createdApi_for_sub_toPublish\", JSON.stringify(createdApi_for_sub_toPublish));",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "4d58cd2b-c059-4646-bc3b-83fa0dff196f",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{createdApi_for_sub_toPublish}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Create Plan for subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "60fd12e6-2b91-4fd5-82d2-b32b5754ceda",
												"exec": [
													"pm.test(\"Status code is 201\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"pm.collectionVariables.set(\"created_plan_for_sub_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"Plan_for_sub\",\n\t\"description\": \"a plan for Forbidden access to Subscription\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId/plans",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"plans"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish created Plan",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "1cd3e0ea-e814-437c-87b9-1011ffdd4b01",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"Plan_for_sub\",\n\t\"description\": \"a plan for Forbidden access to Subscription not found\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId/plans/:planId/_publish",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"plans",
												":planId",
												"_publish"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												},
												{
													"key": "planId",
													"value": "{{created_plan_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Create Application for subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e14f9c07-5260-4901-9f80-812a9a0d87b6",
												"exec": [
													"pm.test(\"Status code is 201\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"pm.collectionVariables.set(\"created_application_for_sub_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"403ApplicationSub\",\n\t\"description\":\"Application for 'Forbidden access to Subscription'\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/applications",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"applications"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create Subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "dc221ded-b29b-40d5-be4d-b9e7fdce5c1f",
												"exec": [
													"pm.test(\"Status code is 201\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"pm.collectionVariables.set(\"created_sub_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId/subscriptions?application={{created_application_for_sub_id}}&plan={{created_plan_for_sub_id}}",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"subscriptions"
											],
											"query": [
												{
													"key": "application",
													"value": "{{created_application_for_sub_id}}"
												},
												{
													"key": "plan",
													"value": "{{created_plan_for_sub_id}}"
												}
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Get subscription key",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "66eb6f3a-8668-43d0-8267-826819ff806f",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"pm.collectionVariables.set(\"first_sub_api_key\", jsonData[0].key);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId/subscriptions/:subscriptionId/keys",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"subscriptions",
												":subscriptionId",
												"keys"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												},
												{
													"key": "subscriptionId",
													"value": "{{created_sub_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "You do not have sufficient rights to access this resource",
							"item": [
								{
									"name": "GET /subscriptions - 2",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "782b052d-70f0-43bc-981d-c4c8160da74b",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/subscriptions?applicationId={{created_application_for_sub_id}}",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"subscriptions"
											],
											"query": [
												{
													"key": "applicationId",
													"value": "{{created_application_for_sub_id}}"
												}
											]
										},
										"description": "With an Application Id but without APPLICATION_SUBSCRIPTION[READ]"
									},
									"response": []
								},
								{
									"name": "GET /subscriptions - 3",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "57bb3d77-39c8-4cb7-b4b7-dfa0ff3595aa",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/subscriptions?applicationId={{created_application_for_sub_id}}&apiId={{created_api_for_sub_id}}",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"subscriptions"
											],
											"query": [
												{
													"key": "applicationId",
													"value": "{{created_application_for_sub_id}}"
												},
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										},
										"description": "With an API Id and an Application Id but without API_SUBSCRIPTION[READ] and APPLICATION_SUBSCRIPTION[READ]"
									},
									"response": []
								},
								{
									"name": "POST /subscriptions",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "6b7ae58e-7a0d-4719-bc8a-f5eda20958c5",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"application\":\"{{created_application_for_sub_id}}\",\n\t\"plan\":\"{{created_plan_for_sub_id}}\",\n\t\"request\":\"for Subscription scenario\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/subscriptions",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"subscriptions"
											]
										},
										"description": "APPLICATION_SUBSCRIPTION[CREATE]"
									},
									"response": []
								},
								{
									"name": "GET /subsciptions/:subscriptionId",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7c502087-54f9-4556-bd45-5ccdbf9c800f",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/subscriptions/:subscriptionId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"subscriptions",
												":subscriptionId"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "{{created_sub_id}}"
												}
											]
										},
										"description": "API_SUBSCRIPTION[READ] or APPLICATION_SUBSCRIPTION[READ]"
									},
									"response": []
								},
								{
									"name": "POST /subscriptions/:subscriptionId/_close",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "da4e0b21-6993-4550-b4bd-d4078f083bf2",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/subscriptions/:subscriptionId/_close",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"subscriptions",
												":subscriptionId",
												"_close"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "{{created_sub_id}}"
												}
											]
										},
										"description": "APPLICATION_SUBSCRIPTION[DELETE]"
									},
									"response": []
								},
								{
									"name": "POST /subscriptions/:subscriptionId/keys/_renew",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b42efb4c-a810-48d0-ae29-4e83dc496dcf",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/subscriptions/:subscriptionId/keys/_renew",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"subscriptions",
												":subscriptionId",
												"keys",
												"_renew"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "{{created_sub_id}}"
												}
											]
										},
										"description": "API_SUBSCRIPTION[UPDATE] or APPLICATION_SUBSCRIPTION[UPDATE]"
									},
									"response": []
								},
								{
									"name": "POST /subscriptions/:subscriptionId/keys/:keyId/_revoke",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "3487975d-ae7c-49fe-8ab5-4189c0e7b158",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/subscriptions/:subscriptionId/keys/:keyId/_revoke",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"subscriptions",
												":subscriptionId",
												"keys",
												":keyId",
												"_revoke"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "{{created_sub_id}}"
												},
												{
													"key": "keyId",
													"value": "{{first_sub_api_key}}"
												}
											]
										},
										"description": "API_SUBSCRIPTION[UPDATE] or APPLICATION_SUBSCRIPTION[UPDATE]"
									},
									"response": []
								}
							],
							"auth": {
								"type": "basic",
								"basic": [
									{
										"key": "password",
										"value": "password",
										"type": "string"
									},
									{
										"key": "username",
										"value": "user",
										"type": "string"
									}
								]
							},
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "6634a7b4-56f2-49d3-b4e2-37cb43dfed1a",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "12b3e037-89a3-4b64-8ab7-172d17a0f8c6",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 403\", function () {",
											"    pm.response.to.have.status(403);",
											"});",
											"",
											"pm.test(\"You do not have sufficient rights to access this resource\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"You do not have sufficient rights to access this resource\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Close subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7f560503-5c7e-4842-9c0c-3e2abde84695",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId/subscriptions/:subscriptionId/status?status=CLOSED",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"subscriptions",
												":subscriptionId",
												"status"
											],
											"query": [
												{
													"key": "status",
													"value": "CLOSED"
												}
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												},
												{
													"key": "subscriptionId",
													"value": "{{created_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete created application",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "cf887f7b-a6d0-4c00-af81-954795ded05d",
												"exec": [
													"pm.test(\"Status code is 204\", function () {",
													"    pm.response.to.have.status(204);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Close created Plan",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "49090339-ad4c-4d01-8208-231a629259b3",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId/plans/:planId/_close",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"plans",
												":planId",
												"_close"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												},
												{
													"key": "planId",
													"value": "{{created_plan_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete created API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "80d12f83-555f-4eb7-a364-6885d1d427a4",
												"exec": [
													"pm.test(\"Status code is 204\", function () {",
													"    pm.response.to.have.status(204);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "404",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Create API for subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "ee584555-0338-43b3-a7ea-9fd49ce8aed3",
												"exec": [
													"pm.test(\"Status code is 201\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"pm.collectionVariables.set(\"created_api_for_sub\", JSON.stringify(jsonData));",
													"pm.collectionVariables.set(\"created_api_for_sub_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"404API_SUB\",\n\t\"version\":\"1.0\",\n\t\"description\":\"API for 'Subscription not found'\",\n\t\"contextPath\":\"/404apisub\",\n\t\"endpoint\":\"http://localhost\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis"
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish created API",
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"id": "9285d4e7-53ae-40b7-b7a2-66a5a4de0343",
												"exec": [
													"var createdApi_for_sub_toPublish = JSON.parse(pm.collectionVariables.get(\"created_api_for_sub\"));",
													"createdApi_for_sub_toPublish.lifecycle_state='published';",
													"delete createdApi_for_sub_toPublish.id;",
													"delete createdApi_for_sub_toPublish.state;",
													"delete createdApi_for_sub_toPublish.created_at;",
													"delete createdApi_for_sub_toPublish.updated_at;",
													"delete createdApi_for_sub_toPublish.owner;",
													"delete createdApi_for_sub_toPublish.context_path;",
													"pm.collectionVariables.set(\"createdApi_for_sub_toPublish\", JSON.stringify(createdApi_for_sub_toPublish));",
													""
												],
												"type": "text/javascript"
											}
										},
										{
											"listen": "test",
											"script": {
												"id": "0c59f086-f48a-4c73-b234-2ba104356842",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "PUT",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{{createdApi_for_sub_toPublish}}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Create Plan for subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "613451cd-7056-4d4f-9ba6-722086674c6a",
												"exec": [
													"pm.test(\"Status code is 201\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"pm.collectionVariables.set(\"created_plan_for_sub_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"Plan_for_sub\",\n\t\"description\": \"a plan for Subscription not found\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId/plans",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"plans"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Publish created Plan",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "4f3a00fe-488e-4bc2-9c7a-bf2e56f6a0d3",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"Plan_for_sub\",\n\t\"description\": \"a plan for Subscription not found\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId/plans/:planId/_publish",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"plans",
												":planId",
												"_publish"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												},
												{
													"key": "planId",
													"value": "{{created_plan_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Create Application for subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "839123b1-30a1-4e1d-8b73-7c4d506f7993",
												"exec": [
													"pm.test(\"Status code is 201\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"pm.collectionVariables.set(\"created_application_for_sub_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"name\":\"404ApplicationSub\",\n\t\"description\":\"Application for 'Subscription not found'\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/applications",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"applications"
											]
										}
									},
									"response": []
								},
								{
									"name": "Create Subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "52191874-9fa6-4a13-aa2a-78645de4be27",
												"exec": [
													"pm.test(\"Status code is 201\", function () {",
													"    pm.response.to.have.status(201);",
													"});",
													"",
													"var jsonData = pm.response.json();",
													"pm.collectionVariables.set(\"created_sub_id\", jsonData.id);"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId/subscriptions?application={{created_application_for_sub_id}}&plan={{created_plan_for_sub_id}}",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"subscriptions"
											],
											"query": [
												{
													"key": "application",
													"value": "{{created_application_for_sub_id}}"
												},
												{
													"key": "plan",
													"value": "{{created_plan_for_sub_id}}"
												}
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Subscription not found",
							"item": [
								{
									"name": "GET /subscriptions/:subscriptionId - Subscription not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "3c17b5c5-5a62-425c-b668-8e2dc99789da",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/subscriptions/:subscriptionId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"subscriptions",
												":subscriptionId"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "SUBSCRIPTION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /subscriptions/:subscriptionId/_close - Subscription not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "3dbf80c8-20dc-4a7e-81d2-0f6d694a3213",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/subscriptions/:subscriptionId/_close",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"subscriptions",
												":subscriptionId",
												"_close"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "SUBSCRIPTION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /subscriptions/:subscriptionId/keys/_renew - Subscription not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "74918ece-1303-46c2-b9b0-4baae9c5320b",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/subscriptions/:subscriptionId/keys/_renew",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"subscriptions",
												":subscriptionId",
												"keys",
												"_renew"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "SUBSCRIPTION"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /subscriptions/:subscriptionId/keys/:keyId/_revoke - Subscription not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7f634321-672a-4219-86c1-6aadc3f90bfd",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/subscriptions/:subscriptionId/keys/:keyId/_revoke",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"subscriptions",
												":subscriptionId",
												"keys",
												":keyId",
												"_revoke"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "SUBSCRIPTION"
												},
												{
													"key": "keyId",
													"value": "KEY"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "ea2c8e3f-e6f6-4cdf-b1a3-5c84d66a5cfb",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "03ced3b5-7e32-40ce-893c-5a925dd24134",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Subscription not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Subscription [SUBSCRIPTION] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Key not found",
							"item": [
								{
									"name": "POST /subscriptions/:subscriptionId/keys/:keyId/_revoke - Subscription not found",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "fce073a3-7946-4e65-bc2c-1a97151b1cf7",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/subscriptions/:subscriptionId/keys/:keyId/_revoke",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"subscriptions",
												":subscriptionId",
												"keys",
												":keyId",
												"_revoke"
											],
											"variable": [
												{
													"key": "subscriptionId",
													"value": "{{created_sub_id}}"
												},
												{
													"key": "keyId",
													"value": "KEY"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "76c7a9a8-a85a-4dea-9bda-5b9cc1e89eb4",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "cef1168a-3039-4d89-a20c-c8b4d5893104",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Subscription not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"No API Key can be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Close subscription",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "e955a29e-0fb8-4424-9523-6293c7393084",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId/subscriptions/:subscriptionId/status?status=CLOSED",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"subscriptions",
												":subscriptionId",
												"status"
											],
											"query": [
												{
													"key": "status",
													"value": "CLOSED"
												}
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												},
												{
													"key": "subscriptionId",
													"value": "{{created_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete created application",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b779c39c-7747-48f7-9212-273395626963",
												"exec": [
													"pm.test(\"Status code is 204\", function () {",
													"    pm.response.to.have.status(204);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/applications/:applicationId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"applications",
												":applicationId"
											],
											"variable": [
												{
													"key": "applicationId",
													"value": "{{created_application_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Close created Plan",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "d12d7193-701e-43d0-9c95-51965042627d",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId/plans/:planId/_close",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId",
												"plans",
												":planId",
												"_close"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												},
												{
													"key": "planId",
													"value": "{{created_plan_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "Delete created API",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "066197ec-79f4-4e85-b6b7-363ac012ff68",
												"exec": [
													"pm.test(\"Status code is 204\", function () {",
													"    pm.response.to.have.status(204);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/apis/:apiId",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"apis",
												":apiId"
											],
											"variable": [
												{
													"key": "apiId",
													"value": "{{created_api_for_sub_id}}"
												}
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "b116f804-df76-49bd-bfc6-bfb9b86d1452",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "61c257dd-fd2b-4c84-9c5a-37721ec1b9d0",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "tickets",
			"item": [
				{
					"name": "400",
					"item": [
						{
							"name": "POST /tickets",
							"request": {
								"method": "POST",
								"header": [],
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/tickets",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"tickets"
									]
								}
							},
							"response": []
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "febd754f-083e-4ef9-8f34-cd5d05d85658",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "09909fde-56c3-4af5-8c19-0d929124a883",
								"type": "text/javascript",
								"exec": [
									"pm.test(\"Status code is 400\", function () {",
									"    pm.response.to.have.status(400);",
									"});",
									"",
									"pm.test(\"Input must not be null.\", function () {",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.errors[0].message).to.eql(\"Input must not be null.\");",
									"});"
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "users & user",
			"item": [
				{
					"name": "400",
					"item": [
						{
							"name": "User already exists",
							"item": [
								{
									"name": "-- Prepare --",
									"item": [
										{
											"name": "Create user",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "8d9efdda-e129-4b12-9aa1-2b3d3851e6c1",
														"exec": [
															"pm.test(\"Status code is 200\", function () {",
															"    pm.response.to.have.status(200);",
															"});",
															"",
															"var jsonData = pm.response.json();",
															"pm.collectionVariables.set(\"created_user_id\", jsonData.id);",
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"auth": {
													"type": "basic",
													"basic": [
														{
															"key": "password",
															"value": "admin",
															"type": "string"
														},
														{
															"key": "username",
															"value": "admin",
															"type": "string"
														}
													]
												},
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"value": "application/json",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"email\": \"postman-test@example.com\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/users",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"users"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "-- Test --",
									"item": [
										{
											"name": "POST /users/registration - user already exist",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "e500c9ae-97ee-49f0-b2c6-e5d2710f2ea3",
														"exec": [
															"pm.test(\"Status code is 400\", function () {",
															"    pm.response.to.have.status(400);",
															"});",
															"",
															"pm.test(\"Invalid email.\", function () {",
															"    var jsonData = pm.response.json();",
															"    pm.expect(jsonData.errors[0].message).to.eql(\"A user [postman-test@example.com] already exists for organization DEFAULT.\");",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"name": "Content-Type",
														"type": "text",
														"value": "application/json"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n\t\"email\": \"postman-test@example.com\"\n}",
													"options": {
														"raw": {
															"language": "json"
														}
													}
												},
												"url": {
													"raw": "{{GRAVITEEIO_PORTAL_URL}}/users/registration",
													"host": [
														"{{GRAVITEEIO_PORTAL_URL}}"
													],
													"path": [
														"users",
														"registration"
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								},
								{
									"name": "-- Clean up --",
									"item": [
										{
											"name": "Delete created user",
											"event": [
												{
													"listen": "test",
													"script": {
														"id": "52f63375-d458-4f38-a932-97c0a419a4a0",
														"exec": [
															"pm.test(\"Status code is 204\", function () {",
															"    pm.response.to.have.status(204);",
															"});"
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "DELETE",
												"header": [],
												"url": {
													"raw": "{{GRAVITEEIO_MGMT_URL}}/users/:userId",
													"host": [
														"{{GRAVITEEIO_MGMT_URL}}"
													],
													"path": [
														"users",
														":userId"
													],
													"variable": [
														{
															"key": "userId",
															"value": "{{created_user_id}}"
														}
													]
												}
											},
											"response": []
										}
									],
									"protocolProfileBehavior": {},
									"_postman_isSubFolder": true
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "68b0f827-7990-4224-a1b1-69b7c814d3fe",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "010db63c-98e3-4c95-92a2-57f58c74ab1b",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Invalid input",
							"item": [
								{
									"name": "PUT /user - input must not be null",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "989a1eb2-80a9-4ff1-8c6c-049aa34a7f3d",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Input must not be null.\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Input must not be null.\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"auth": {
											"type": "basic",
											"basic": [
												{
													"key": "password",
													"value": "password",
													"type": "string"
												},
												{
													"key": "username",
													"value": "user",
													"type": "string"
												}
											]
										},
										"method": "PUT",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/user",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"user"
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /users/registration - input must not be null",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b5350f6f-1650-40ca-9ee9-9f0e2be285f0",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Input must not be null.\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Input must not be null.\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"value": "application/json",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/users/registration",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"users",
												"registration"
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /users/registration - missing email",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "cc3fab1a-678c-4a8e-9442-aad0c1354d1c",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Invalid email.\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].code).to.eql(\"registerUser.arg0.email\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/users/registration",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"users",
												"registration"
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /users/registration - invalid email",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "f9ed3b39-85fb-4e04-ace7-ea1b793f3400",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Invalid email.\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Value [DUMMY EMAIL] is not a valid email.\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"email\": \"DUMMY EMAIL\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/users/registration",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"users",
												"registration"
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /users/registration/_finalize - input must not be null",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "b9747ff5-762b-4da6-ad76-8fedadf4924a",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Input must not be null.\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Input must not be null.\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/users/registration/_finalize",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"users",
												"registration",
												"_finalize"
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /users/registration/_finalize - missing fields",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "9cb36e14-0ab2-43fc-bed3-3df0333d5f33",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"4 Missing fields.\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors.length).to.eql(4);",
													"    ",
													"    var sortedErrors = jsonData.errors.sort(compare);",
													"    pm.expect(sortedErrors[0].code).to.eql('finalizeRegistration.arg0.firstname');",
													"    pm.expect(sortedErrors[1].code).to.eql('finalizeRegistration.arg0.lastname');",
													"    pm.expect(sortedErrors[2].code).to.eql('finalizeRegistration.arg0.password');",
													"    pm.expect(sortedErrors[3].code).to.eql('finalizeRegistration.arg0.token');",
													"});",
													"",
													"",
													"function compare(a, b) {",
													"    // Use toUpperCase() to ignore character casing",
													"  const titleA = a.code.toUpperCase();",
													"  const titleB = b.code.toUpperCase();",
													"",
													"  let comparison = 0;",
													"  if (titleA > titleB) {",
													"    comparison = 1;",
													"  } else if (titleA < titleB) {",
													"    comparison = -1;",
													"  }",
													"  return comparison;",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/users/registration/_finalize",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"users",
												"registration",
												"_finalize"
											]
										}
									},
									"response": []
								},
								{
									"name": "POST /users/_reset_password - input must not be null",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c977ae4b-b18a-4084-a18f-384244901f65",
												"exec": [
													"pm.test(\"Status code is 400\", function () {",
													"    pm.response.to.have.status(400);",
													"});",
													"",
													"pm.test(\"Input must not be null.\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"Input must not be null.\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/users/_reset_password",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"users",
												"_reset_password"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "401",
					"item": [
						{
							"name": "PUT /user - input.id != currentUser.id",
							"event": [
								{
									"listen": "test",
									"script": {
										"id": "a67c3cc9-54ca-425d-a63a-3b9147ed4dcd",
										"exec": [
											"pm.test(\"Status code is 401\", function () {",
											"    pm.response.to.have.status(401);",
											"});",
											"",
											"pm.test(\"You must be authenticated to access this resource\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"You must be authenticated to access this resource\");",
											"});"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"auth": {
									"type": "basic",
									"basic": [
										{
											"key": "password",
											"value": "password",
											"type": "string"
										},
										{
											"key": "username",
											"value": "user",
											"type": "string"
										}
									]
								},
								"method": "PUT",
								"header": [
									{
										"key": "Content-Type",
										"name": "Content-Type",
										"value": "application/json",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n\t\"id\": \"\",\n\t\"avatar\": \"\"\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{GRAVITEEIO_PORTAL_URL}}/user",
									"host": [
										"{{GRAVITEEIO_PORTAL_URL}}"
									],
									"path": [
										"user"
									]
								}
							},
							"response": []
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "404",
					"item": [
						{
							"name": "Notification not found",
							"item": [
								{
									"name": "DELETE /user/notifications/:notificationId",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "c13e4fca-92e7-47b1-a27f-885105284805",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "DELETE",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/user/notifications/:notificationId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"user",
												"notifications",
												":notificationId"
											],
											"variable": [
												{
													"key": "notificationId",
													"value": "NOTIFICATION"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "4ad396fa-1e2c-472d-8b87-695e0838aec4",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "9152b18b-8a26-4751-8c14-8413379cf368",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Notification not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Portal notification [NOTIFICATION] can not be found.\");",
											"});"
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "fc5c0bf9-598e-4541-965c-6231445e5afd",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "e0fa2450-a8cc-4b46-9fc6-eee182ab0046",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				},
				{
					"name": "503",
					"item": [
						{
							"name": "-- Prepare --",
							"item": [
								{
									"name": "Disable registration service",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "fd3190d1-ee88-402c-a08a-235330e63c36",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"portal\": {\n\t\t\"userCreation\": {\n\t\t\t\"enabled\": false\n\t\t}\n\t}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/portal",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"portal"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "Registration service not enabled",
							"item": [
								{
									"name": "POST /users/registration",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "7ad043a5-059c-42e1-954a-25fa591c5505",
												"exec": [
													"pm.test(\"Status code is 503\", function () {",
													"    pm.response.to.have.status(503);",
													"});",
													"",
													"pm.test(\"Registration service disabled\", function () {",
													"    var jsonData = pm.response.json();",
													"    pm.expect(jsonData.errors[0].message).to.eql(\"User registration service is unavailable.\");",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"email\": \"test@example.com\"\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/users/registration",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"users",
												"registration"
											]
										}
									},
									"response": []
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						},
						{
							"name": "-- Clean up --",
							"item": [
								{
									"name": "Enable registration service",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "100054eb-85dc-4de8-91eb-d846f2775bc5",
												"exec": [
													"pm.test(\"Status code is 200\", function () {",
													"    pm.response.to.have.status(200);",
													"});"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"name": "Content-Type",
												"type": "text",
												"value": "application/json"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n\t\"portal\": {\n\t\t\"userCreation\": {\n\t\t\t\"enabled\": true\n\t\t}\n\t}\n}",
											"options": {
												"raw": {
													"language": "json"
												}
											}
										},
										"url": {
											"raw": "{{GRAVITEEIO_MGMT_URL}}/portal",
											"host": [
												"{{GRAVITEEIO_MGMT_URL}}"
											],
											"path": [
												"portal"
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "cba18c11-da03-499c-8cf2-8776540567c4",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "f9c40d6d-8ba9-497c-96c3-26952c37306a",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "878e6974-a218-4ab6-8e79-9ea54b2aba25",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "20f99b9a-e8e3-497a-a05d-dd0592cd054a",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"id": "2f086ace-771e-45f4-bb5b-9d9d0afe9ff0",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"id": "70225041-758f-4184-96c3-a5ecba9ad787",
						"type": "text/javascript",
						"exec": [
							""
						]
					}
				}
			],
			"protocolProfileBehavior": {}
		},
		{
			"name": "categories",
			"item": [
				{
					"name": "404",
					"item": [
						{
							"name": "Category not found",
							"item": [
								{
									"name": "GET /categories/:categoryId",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "038b12de-b11b-48a4-94bb-de1566459ae0",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/categories/:categoryId",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"categories",
												":categoryId"
											],
											"variable": [
												{
													"key": "categoryId",
													"value": "CATEGORY"
												}
											]
										}
									},
									"response": []
								},
								{
									"name": "GET /categories/:categoryId/picture",
									"event": [
										{
											"listen": "test",
											"script": {
												"id": "075ca29c-9aad-4cd1-a338-2d8e42a5e756",
												"exec": [
													""
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "GET",
										"header": [],
										"url": {
											"raw": "{{GRAVITEEIO_PORTAL_URL}}/categories/:categoryId/picture",
											"host": [
												"{{GRAVITEEIO_PORTAL_URL}}"
											],
											"path": [
												"categories",
												":categoryId",
												"picture"
											],
											"variable": [
												{
													"key": "categoryId",
													"value": "CATEGORY"
												}
											]
										}
									},
									"response": []
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"id": "1357c46a-2094-4a03-9009-9b3216d1512a",
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"id": "6dde1165-a9bd-473d-a47a-f11fef0ce933",
										"type": "text/javascript",
										"exec": [
											"pm.test(\"Status code is 404\", function () {",
											"    pm.response.to.have.status(404);",
											"});",
											"pm.test(\"Category not found\", function () {",
											"    var jsonData = pm.response.json();",
											"    pm.expect(jsonData.errors[0].message).to.eql(\"Category [CATEGORY] can not be found.\");",
											"});",
											""
										]
									}
								}
							],
							"protocolProfileBehavior": {},
							"_postman_isSubFolder": true
						}
					],
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"id": "7da2d38f-9811-4988-9442-940dc3f45d1e",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						},
						{
							"listen": "test",
							"script": {
								"id": "64590580-8c20-47fb-979f-bc1a26ea7a41",
								"type": "text/javascript",
								"exec": [
									""
								]
							}
						}
					],
					"protocolProfileBehavior": {},
					"_postman_isSubFolder": true
				}
			],
			"protocolProfileBehavior": {}
		}
	],
	"auth": {
		"type": "basic",
		"basic": [
			{
				"key": "password",
				"value": "admin",
				"type": "string"
			},
			{
				"key": "username",
				"value": "admin",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"id": "5b28e8fc-b0b5-45aa-895b-3c8eec95bc2c",
				"type": "text/javascript",
				"exec": [
					"if(!pm.collectionVariables.get('X-Xsrf-Token')) {",
					"    pm.sendRequest({",
					"        url: pm.environment.get('GRAVITEEIO_PORTAL_URL') + '/configuration',",
					"        method: 'GET',",
					"    ",
					"    }, function (err, res) {",
					"        pm.collectionVariables.set('X-Xsrf-Token', res.headers.get('X-Xsrf-Token'));",
					"    });",
					"}",
					"",
					"pm.request.headers.add({key: 'X-Xsrf-Token', value: pm.collectionVariables.get('X-Xsrf-Token') });"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"id": "74f2c76b-100f-4b39-aa7f-d2ffd7b8b90a",
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"id": "37a62926-e44d-4273-b561-efe020f4aa49",
			"key": "X-Xsrf-Token",
			"value": ""
		},
		{
			"id": "62e702d6-e508-4e92-b53e-d5c77d8a062d",
			"key": "created_api",
			"value": ""
		},
		{
			"id": "bab6aa7e-5293-424c-978d-f3a70ffe8b1e",
			"key": "created_api_id",
			"value": ""
		},
		{
			"id": "c18e3e22-4cc2-4c2f-a37a-fffea88aee8b",
			"key": "created_api_owner_id",
			"value": ""
		},
		{
			"id": "0766e577-b4bb-4014-8d57-7e600c3e6c83",
			"key": "createdApi_toPublish",
			"value": ""
		},
		{
			"id": "3829b7e1-91ba-4374-813d-7371df810dba",
			"key": "created_rating_id",
			"value": ""
		},
		{
			"id": "089d93d2-e7dd-4934-a406-a83c10d4e239",
			"key": "created_application_id",
			"value": ""
		},
		{
			"id": "cf7dd4b9-8537-4e16-a2a5-db9772f5b16f",
			"key": "created_generic_config",
			"value": ""
		},
		{
			"id": "a82adff6-6139-4bc3-962d-a921590362c9",
			"key": "USER_ENV_ROLE",
			"value": ""
		},
		{
			"id": "3d1d4e22-e909-424c-8159-c2b2202ed636",
			"key": "UPDATED_USER_ENV_ROLE",
			"value": ""
		},
		{
			"id": "b45a9353-780c-4820-8e71-a0c6f3756382",
			"key": "created_application",
			"value": ""
		},
		{
			"id": "396ebcd5-d895-4707-adbf-6a24a9a0619a",
			"key": "created_page_id",
			"value": ""
		},
		{
			"id": "fbf31eae-b154-42e5-8915-477760dd53cb",
			"key": "created_page_order",
			"value": ""
		},
		{
			"id": "0272a80a-b480-4238-b7b2-94515a9b3334",
			"key": "created_exclusion_group_id",
			"value": ""
		},
		{
			"id": "b2742be2-8935-4fa8-9bf2-0904ef598576",
			"key": "user_reference",
			"value": ""
		},
		{
			"id": "13708e5f-afad-4fe0-8a3f-c9e3c897b9a8",
			"key": "created_api_for_sub",
			"value": ""
		},
		{
			"id": "a1c885e9-8c0f-4b5d-9094-637d77ec1400",
			"key": "created_api_for_sub_id",
			"value": ""
		},
		{
			"id": "93f8d8fd-481b-4fdb-8720-1069f6d8b8f4",
			"key": "createdApi_for_sub_toPublish",
			"value": ""
		},
		{
			"id": "3adfa1df-2b89-471e-92b7-21bb455e6124",
			"key": "created_plan_for_sub_id",
			"value": ""
		},
		{
			"id": "9a19a5cf-7b49-4760-b543-e0299eb2974a",
			"key": "created_application_for_sub_id",
			"value": ""
		},
		{
			"id": "7ecad570-5429-4909-bb43-f405fd5bfc8c",
			"key": "created_sub_id",
			"value": ""
		},
		{
			"id": "b8575c44-ca18-4016-a00c-cf96012c2f39",
			"key": "first_sub_api_key",
			"value": ""
		},
		{
			"id": "9275e635-6ba6-4067-8325-891a0567137c",
			"key": "created_sec_plan_for_sub_id",
			"value": ""
		},
		{
			"id": "07700893-a43e-40f3-b190-6d8ca62da05d",
			"key": "created_sec_sub_id",
			"value": ""
		},
		{
			"id": "b593d356-5ba8-486f-adc4-e8f7d9eb22af",
			"key": "created_user_id",
			"value": ""
		}
	],
	"protocolProfileBehavior": {}
}
